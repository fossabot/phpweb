{extend name="common@Public/base" /} {block name="leftmenu"} {include
file="c/leftmenu_zx_apply_index" /} {/block}{block name="head"}
<style>
#form_container {
	width: 1200px;
}
</style>
{/block}{block name="main"}
<div class="htmltitle">
	<h2>数据专线申请</h2>
</div>
<div id="form_container">


</div>
{/block}
{block name="script"}
<script>
var formStructure = [
	{type:"settings",labelWidth:80,inputWidth:250},
	{type:"block",inputWidth:"auto",blockOffset:"0",list:[			
		{type: "label", label: "申请IP前请先登记身份",labelWidth:200,list:[
			{type:"block",inputWidth:"auto",blockOffset:"0",list:[
				{type:"input",name:"name",label:"申请人姓名",required:true},
				{type:"combo",name:"email",label:"申请人邮箱",validate:"ValidEmail",required:true},
				//{type:"input",name:"fe_code",label:"验证码",required:true},
			]}
		]},
		{type:"label",label:"确认以上信息",labelWidth:200,list:[
			{type:"block",inputWidth:"auto",blockOffset:"0",list:[
				{type:"input",name:"code",label:"验证码",validate:"ValidInteger"},
			]},
			{type:"block",inputWidth:"auto",blockOffset:"0",list:[
				{type:"button",name:"getVcode",value:"获取验证码"},
				{type:"newcolumn"},
				{type:"button",name:"verification",value:"验证并继续",disabled:true},
			]},
		]},
	]}
];
var formStructure = [// 好丑~！~
	{type:"settings",labelWidth:100,inputWidth:300},
	{type:"fieldset",label:"专线基本信息",width:450,offsetLeft:15,list:[
		{type:"input",name:"instanceId",label:"产品实例标识",validate:"",required:true},
		{type:"select",name:"zxType",label:"专线类别",required:true},
		{type:"input",name:"bandWidth",label:"带宽",required:true},
		{type:"select",name:"neFactory",label:"网元厂家",required:true},
		{type:"combo",name:"aStation",label:"A端基站",required:true},
		{type:"input",name:"cName",label:"客户名",required:true},
		{type:"input",name:"cAddress",label:"客户地址",required:true},
		{type:"input",name:"cNeeds",label:"客户需求",required:true},
		{type:"input",name:"cPersion",label:"客户联系人姓名",required:true},
		{type:"input",name:"cPhone",label:"客户联系人电话",required:true},
		{type:"input",name:"cEmail",label:"客户联系人邮箱",validate:"ValidEmail",required:true},
		{type:"input",name:"mPerson",label:"客户经理姓名",required:true},
		{type:"input",name:"mPhone",label:"客户经理电话",required:true},
		{type:"input",name:"mEmail",label:"客户经理邮箱",validate:"ValidEmail",required:true},
		{type:"input",name:"marks",label:"备注",rows:3,required:true},
	]},
	{type:"block",inputWidth:"auto",offsetLeft:100,list:[
		{type:"button",name:"commit",value:"提交"},
		{type:"newcolumn"},
		{type:"button",name:"cancel",value:"重置",offsetLeft:60},
	]},
	{type:"newcolumn"},
	{type:"fieldset",label:"专线附加信息",width:420,offsetLeft:15,list:[
	    {type:"checkbox",name:"ifOnu",label:"onu业务",labelWidth:70,labelAlign:"center",position:"label-right",offsetLeft:20,list:[
	    	{type:"settings",labelWidth:130,inputWidth:200},
	        {type:"combo",name:"oltName",label:"olt名称",note:{text:"如果下拉菜单搜不到请直接输入。"}},
	    ]},
	    {type:"settings",labelWidth:130,inputWidth:200},
	    {type:"block",inputWidth:"auto",offsetLeft:0,list:[
			{type:"input",name:"aPerson",label:"信息申请人",value:"{$Think.session.user.name}",readonly:true,required:true},
			{type:"input",name:"aEmail",label:"信息申请人邮箱",value:"{$Think.session.user.email}",readonly:true,required:true},
			{type:"combo",name:"unitProperty",label:"单位性质id",required:true},
			{type:"combo",name:"unitCategory",label:"单位分类id",required:true},
			{type:"combo",name:"industryCategory",label:"行业分类id",required:true},
			{type:"combo",name:"credential",label:"使用单位证件类型id",required:true},
			{type:"input",name:"credentialnum",label:"使用单位证件号",required:true},
			{type:"combo",name:"province",label:"所在省id",required:true},
			{type:"combo",name:"city",label:"所在市id",required:true},
			{type:"combo",name:"county",label:"所在县区id",required:true},
			{type:"combo",name:"appServType",label:"应用服务类型id",required:true},
		]},
	]},
];
var myForm = new dhtmlXForm("form_container", formStructure);
var config = [];
config['default']={
	'zxType': [
		{value:'互联网',text:'互联网',selected:true},
		{value:'营业厅',text:'营业厅'},
		{value:'平安校园',text:'平安校园'},
		{value:'点对点',text:'点对点'},
		{value:'卫生网',text:'卫生网'},
		{value:'教育网',text:'教育网'},
		{value:'IMS',text:'IMS'},
		{value:'其他',text:'其他'},
	],
	'neFactory': [
		{value:0,text:'华为',selected:true},
		{value:1,text:'中兴'},
	],
	'aStation': [
		{value:'柴河局-华为',text:'柴河局-华为',selected:true},
		{value:'柴河局-中兴',text:'柴河局-中兴'},
		{value:'昌图新局',text:'昌图新局'},
		{value:'昌图老局',text:'昌图老局'},
		{value:'西丰新局',text:'西丰新局'},
		{value:'西丰老局',text:'西丰老局'},
		{value:'开原老局',text:'开原老局'},
		{value:'开原新局',text:'开原新局'},
		{value:'清河',text:'清河'},
		{value:'调兵山老局',text:'调兵山老局'},
		{value:'调兵山新局',text:'调兵山新局'},
		{value:'铁岭县',text:'铁岭县'},
		{value:'新台子',text:'新台子'},
		{value:'银州区',text:'银州区'},
		{value:'柴河局09',text:'柴河局09'},
	],
};
config["muticolumn"] = {
	// 单位性质
	"unitProperty": [
		{value:1,text:{idd:1,mc:"军队"}},
		{value:2,text:{idd:2,mc:"政府机关"}},
		{value:3,text:{idd:3,mc:"事业单位"}},
		{value:4,text:{idd:4,mc:"企业"}},
		{value:5,text:{idd:5,mc:"个人"},selected:true},
		{value:6,text:{idd:6,mc:"社会团体"}},
		{value:7,text:{idd:7,mc:"国瑞"}},
		{value:8,text:{idd:8,mc:"个体工商户"}},
		{value:9,text:{idd:9,mc:"民办非企业"}},
		{value:10,text:{idd:10,mc:"基金会"}},
		{value:11,text:{idd:11,mc:"律师事务所"}},
		{value:12,text:{idd:12,mc:"外国文化中心"}},
		{value:99,text:{idd:99,mc:"未知"}}
	],
	// 单位分类
	"unitCategory": [
		{value:1,text:{idd:1,mc:"ISP"}},
		{value:2,text:{idd:2,mc:"IDC"},selected:true},
		{value:3,text:{idd:3,mc:"ISP和iddC"}},
		{value:4,text:{idd:4,mc:"公益性互联网络单位"}},
		{value:5,text:{idd:5,mc:"其他"}},
		{value:11,text:{idd:11,mc:"电信业务经营者"}},
		{value:12,text:{idd:12,mc:"公益性互联网络单位"}},
		{value:14,text:{idd:14,mc:"管局单位"}},
		{value:15,text:{idd:15,mc:"前置单位"}},
		{value:999,text:{idd:999,mc:"未知"}},
	],
	// 行业分类
	"industryCategory": [
		{value:1,text:{idd:1,mc:"农、林、牧、渔业"}},
		{value:2,text:{idd:2,mc:"采矿业"}},
		{value:3,text:{idd:3,mc:"制造业"}},
		{value:4,text:{idd:4,mc:"电力、燃气及水的生产和供应业"}},
		{value:5,text:{idd:5,mc:"建筑业"}},
		{value:6,text:{idd:6,mc:"交通运输、仓储和邮政业"}},
		{value:7,text:{idd:7,mc:"信息传输、计算机服务和软件业"}},
		{value:8,text:{idd:8,mc:"批发和零售业"}},
		{value:9,text:{idd:9,mc:"住宿和餐饮业"}},
		{value:10,text:{idd:10,mc:"金融业"}},
		{value:11,text:{idd:11,mc:"房地产业"}},
		{value:12,text:{idd:12,mc:"租赁和商务服务业"}},
		{value:13,text:{idd:13,mc:"科学研究、技术服务和地质勘查业"}},
		{value:14,text:{idd:14,mc:"水利、环境和公共设施管理业"}},
		{value:15,text:{idd:15,mc:"居民服务和其他服务业"}},
		{value:16,text:{idd:16,mc:"教育"}},
		{value:17,text:{idd:17,mc:"卫生、社会保障和社会福利业"}},
		{value:18,text:{idd:18,mc:"文化、体育和娱乐业"}},
		{value:19,text:{idd:19,mc:"公共管理与社会组织"}},
		{value:20,text:{idd:20,mc:"国际组织"}},
		{value:21,text:{idd:21,mc:"example"}},
		{value:999,text:{idd:999,mc:"未知"}},
	],
	// 使用单位证件类型
	"credential": [
		{value:1,text:{idd:1,mc:"工商营业执照"}},
		{value:2,text:{idd:2,mc:"身份证"}},
		{value:3,text:{idd:3,mc:"组织机构代码证书"}},
		{value:4,text:{idd:4,mc:"事业法人证书"}},
		{value:5,text:{idd:5,mc:"军队代号"}},
		{value:6,text:{idd:6,mc:"社团法人证书"}},
		{value:7,text:{idd:7,mc:"护照"}},
		{value:8,text:{idd:8,mc:"军官证"}},
		{value:11,text:{idd:11,mc:"台胞证"}},
		{value:13,text:{idd:13,mc:"统一社会信用代码证书"}},
		{value:14,text:{idd:14,mc:"港澳居民来往内地通行证"}},
		{value:17,text:{idd:17,mc:"民办非企业单位登记证书"}},
		{value:19,text:{idd:19,mc:"基金会法人登记证书"}},
		{value:21,text:{idd:21,mc:"律师事务所执业许可证"}},
	],
	"province": [
		{value:210000,text:{idd:210000,mc:"辽宁省"}},
	],
	"city": [
		{value:211200,text:{idd:211200,mc:"铁岭市"}},
	],
	"county": [
		{value:211201,text:{idd:211201,mc:"市辖区"}},
		{value:211202,text:{idd:211202,mc:"银州区"}},
		{value:211204,text:{idd:211204,mc:"清河区"}},
		{value:211221,text:{idd:211221,mc:"铁岭县"}},
		{value:211223,text:{idd:211223,mc:"西丰县"}},
		{value:211224,text:{idd:211224,mc:"昌图县"}},
		{value:211281,text:{idd:211281,mc:"调兵山市"}},
		{value:211282,text:{idd:211282,mc:"开原市"}},
	],
	"appServType": [
		{value:1,text:{idd:1,mc:"企事业单位专线接入"}},
		{value:2,text:{idd:2,mc:"个人专线接入"}},
		{value:3,text:{idd:3,mc:"固定宽带接入"}},
		{value:4,text:{idd:4,mc:"移动网接入"}},
		{value:5,text:{idd:5,mc:"网络设备"}},
		{value:6,text:{idd:6,mc:"网站专线接入"}},
		{value:7,text:{idd:7,mc:"IDC服务类"}},
		{value:8,text:{idd:8,mc:"物联网 "}},
	]
};
initCombo();
function initCombo(){
	var combo;
	for (var cfg_d in config["default"]){
		myForm.reloadOptions(cfg_d,config["default"][cfg_d]);
		myForm.getCombo(cfg_d) && myForm.getCombo(cfg_d).enableFilteringMode("between");
	}
	/*for (var cfg_m in config["muticolumn"]){
		combo = myForm.getCombo(cfg_m);
		combo.clearAll();
		combo.setTemplate({
			input:"#idd#,#mc#",
			//header:false,//if you want to hide header
			columns:[
				{header:"id",width:40,option:"#idd#"},
				{header:"MC",width:130,option:"#mc#"}
			]
		});
		combo.addOption(config["muticolumn"][cfg_m]);
		combo.enableFilteringMode("between");
	}*/
}

////////////test start
var combo = myForm.getCombo("unitProperty");
combo.setTemplate({
    input: "#capital#, #country#",
    //header: false, // if you want to hide header
    columns: [
        {header: "Capital", width:  80, css: "capital", option: "#capital#"},
        {header: "Country", width: 110, css: "country", option: "#country#"},
        {header: "Proverb", width: 250, css: "proverb", option: "#proverb#"}
    ]
});
combo.addOption([
    {value: "1", text:
        {country: "Austria", capital:"Vienna"}
    },
    {value: "2", text:
        {country: "Belarus", capital:"Minsk"}
    },
    {value: "3", selected: 1, text:
        {country: "Cameroon", capital: "Yaoundé"}
    },
    {value: "4", text:
        {country: "Canada", capital: "Ottawa"}
    }
]);

combo.setTemplate({
	input:"#id#,#MC#",
	columns:[
		{header:"id",width:40,option:"#idd#"},
		{header:"MC",width:130,option:"#mc#"}
	]
});
combo.addOption(config["muticolumn"]["zxType"]);
//////////test end


</script>
{/block}
